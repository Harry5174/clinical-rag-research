(oapoc) (base) harry@harry-Vostro-14-5401:~/Desktop/research/poc/oapoc/src/app$ uv run python main.py 

1. RUNNING ETL (Limit: 5000 rows)...
--- ETL STARTED: discharge.csv ---
Limiting import to first 5000 rows...
Loaded 5000 rows into memory.
Rows after cardiac keyword filter: 3595 (dropped 1405)
--- ETL COMPLETE: Saved 28572 chunks to discharge.json ---

2. RUNNING INDEXER...
--- INDEXING STARTED: BAAI/bge-base-en-v1.5 ---
Loaded 28572 chunks from discharge.json
Embedding 28572 documents...
Batches: 100%|█████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████| 893/893 [4:29:42<00:00, 18.12s/it]
--- INDEXING COMPLETE ---
Index: /home/harry/Desktop/research/poc/oapoc/src/data/vector_store/poc_index.index
Metadata: /home/harry/Desktop/research/poc/oapoc/src/data/vector_store/poc_metadata.pkl

3. TESTING RETRIEVAL...
Retriever loaded successfully.

Query: patient diagnosed with acute myocardial infarction

[Result 1] (Score L2: 0.4247)
Note ID: 10132833-DS-18
Snippet: Status: Clear and coherent. Level of Consciousness: Alert and interactive. Activity Status: Ambulatory - Independent. Discharge Instructions: Dear Dr....

[Result 2] (Score L2: 0.4579)
Note ID: 10014354-DS-17
Snippet: unbearable that he push the Lifeline button and had been transferred him to for further evaluation. Of note, in he had an admission for the exact same...